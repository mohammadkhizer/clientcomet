(()=>{var e={};e.id=5325,e.ids=[5325],e.modules={916:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(82614).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},2039:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>P});var r=t(60687),a=t(43210),i=t(29523),n=t(44493),l=t(6211),d=t(916),c=t(11516),o=t(23085),m=t(69795),x=t(76311),u=t(57207),h=t(85866),p=t(21342),b=t(63503),f=t(34729),j=t(80013),y=t(42692),g=t(71453),v=t(29867),w=t(6475);let N=(0,w.createServerReference)("00db0a0b21aba57ce43e3e1830dd85242588fa0a89",w.callServer,void 0,w.findSourceMapURL,"getFeedbacks"),k=(0,w.createServerReference)("407c2217ee2d9f96e9d47feb11c098ae1630be4460",w.callServer,void 0,w.findSourceMapURL,"deleteFeedback");var A=t(43010);function P(){let[e,s]=(0,a.useState)([]),[t,w]=(0,a.useState)(!0),{toast:P}=(0,v.dj)(),[S,B]=(0,a.useState)(!1),[D,F]=(0,a.useState)(null),[R,_]=(0,a.useState)(""),[C,$]=(0,a.useState)(!1);(0,a.useCallback)(async()=>{w(!0);try{let e=await N();s(e)}catch(e){console.error("Failed to fetch feedbacks:",e),P({title:"Error Loading Feedbacks",description:e.message||"Failed to load feedbacks.",variant:"destructive"})}finally{w(!1)}},[P]);let E=async(e,t)=>{if(window.confirm(`Are you sure you want to delete the feedback from "${t}"?`))try{await k(e),s(s=>s.filter(s=>s.id!==e)),P({title:"Feedback Deleted",description:`Feedback from "${t}" has been removed.`})}catch(e){P({title:"Error Deleting Feedback",description:e.message||`Failed to delete feedback from "${t}".`,variant:"destructive"})}},q=e=>{F(e),_(`Hi ${e.name},

Thank you for your feedback regarding your experience. We appreciate you taking the time to share your thoughts.

Best regards,
The ByteBrusters Team`),B(!0)},T=async()=>{if(D&&R.trim()){$(!0);try{await new Promise(e=>setTimeout(e,700)),P({title:"Reply 'Sent' (Simulated)",description:`Your reply to ${D.name} has been simulated as sent. No actual email was dispatched.`}),B(!1),_(""),F(null)}catch(e){P({title:"Error Sending Simulated Reply",description:e.message||"Failed to simulate sending.",variant:"destructive"})}finally{$(!1)}}},M=e=>(0,r.jsxs)("span",{className:"inline-flex",children:[" ",[void 0,void 0,void 0,void 0,void 0].map((s,t)=>(0,r.jsx)(d.A,{className:`h-4 w-4 ${t<e?"text-yellow-400 fill-yellow-400":"text-muted-foreground/50"}`},t))]});return t?(0,r.jsx)("div",{className:"flex justify-center items-center min-h-[calc(100vh-10rem)]",children:(0,r.jsx)(c.A,{className:"h-12 w-12 animate-spin text-primary"})}):(0,r.jsx)(g.FadeIn,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-2xl font-semibold text-foreground flex items-center",children:[(0,r.jsx)(o.A,{className:"mr-3 h-6 w-6 text-primary"})," View Submitted Feedback"]}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Review feedback submitted by users."})]})}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{children:"All Feedback"}),(0,r.jsx)(n.BT,{children:"A list of all feedback received."})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)(l.XI,{children:[(0,r.jsx)(l.A0,{children:(0,r.jsxs)(l.Hj,{children:[(0,r.jsx)(l.nd,{className:"min-w-[150px]",children:"Name"}),(0,r.jsx)(l.nd,{className:"min-w-[200px]",children:"Email"}),(0,r.jsx)(l.nd,{className:"min-w-[100px]",children:"Rating"}),(0,r.jsx)(l.nd,{className:"min-w-[300px]",children:"Message (Snippet)"}),(0,r.jsx)(l.nd,{className:"min-w-[150px]",children:"Date"}),(0,r.jsx)(l.nd,{className:"text-right min-w-[100px]",children:"Actions"})]})}),(0,r.jsxs)(l.BF,{children:[0===e.length&&!t&&(0,r.jsx)(l.Hj,{children:(0,r.jsx)(l.nA,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No feedback received yet."})}),e.map(e=>(0,r.jsxs)(l.Hj,{children:[(0,r.jsx)(l.nA,{className:"font-medium",children:e.name}),(0,r.jsx)(l.nA,{children:e.email}),(0,r.jsx)(l.nA,{children:M(e.rating)}),(0,r.jsx)(l.nA,{className:"text-sm text-muted-foreground",children:e.message.length>100?`${e.message.substring(0,100)}...`:e.message}),(0,r.jsx)(l.nA,{children:e.createdAt?(0,A.GP)(new Date(e.createdAt),"PP p"):"N/A"}),(0,r.jsx)(l.nA,{className:"text-right",children:(0,r.jsxs)(b.Dialog,{open:S&&D?.id===e.id,onOpenChange:e=>{e||(B(!1),F(null),_(""))},children:[(0,r.jsxs)(p.rI,{children:[(0,r.jsx)(p.ty,{asChild:!0,children:(0,r.jsxs)(i.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,r.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,r.jsx)(m.A,{className:"h-4 w-4"})]})}),(0,r.jsxs)(p.SQ,{align:"end",children:[(0,r.jsx)(p.lp,{children:"Actions"}),(0,r.jsxs)(p._2,{onClick:()=>q(e),children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"})," View & Reply (Simulated)"]}),(0,r.jsx)(p.mB,{}),(0,r.jsxs)(p._2,{onClick:()=>E(e.id,e.name),className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[(0,r.jsx)(u.A,{className:"mr-2 h-4 w-4"})," Delete"]})]})]}),(0,r.jsxs)(b.DialogContent,{className:"sm:max-w-2xl",children:[(0,r.jsxs)(b.DialogHeader,{children:[(0,r.jsxs)(b.DialogTitle,{children:["Feedback from: ",D?.name]}),(0,r.jsxs)(b.DialogDescription,{children:["Email: ",(0,r.jsx)("a",{href:`mailto:${D?.email}`,className:"text-primary hover:underline",children:D?.email})," | Rating: ",D&&M(D.rating)," ",(0,r.jsx)("br",{}),"Date: ",D?.createdAt?(0,A.GP)(new Date(D.createdAt),"PP p"):"N/A"]})]}),(0,r.jsxs)("div",{className:"py-4 space-y-4",children:[(0,r.jsxs)(n.Zp,{className:"bg-muted/50 max-h-60",children:[(0,r.jsx)(n.aR,{className:"pb-2 sticky top-0 bg-muted/50 z-10",children:(0,r.jsx)(n.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Original Feedback Message:"})}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)(y.F,{className:"h-full max-h-48",children:(0,r.jsx)("p",{className:"text-sm text-foreground whitespace-pre-wrap",children:D?.message})})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(j.J,{htmlFor:"replyText",className:"text-base font-medium flex items-center mb-2",children:[(0,r.jsx)(h.A,{className:"mr-2 h-5 w-5 text-primary"})," Your Reply:"]}),(0,r.jsx)(f.T,{id:"replyText",value:R,onChange:e=>_(e.target.value),placeholder:`Replying to ${D?.name}...`,className:"min-h-[120px] text-sm",disabled:C})]})]}),(0,r.jsxs)(b.Es,{className:"sm:justify-between items-center",children:[(0,r.jsx)(b.HM,{asChild:!0,children:(0,r.jsx)(i.$,{type:"button",variant:"outline",disabled:C,children:"Cancel"})}),(0,r.jsxs)(i.$,{type:"button",onClick:T,className:"button-primary",disabled:C||!R.trim(),children:[C?(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Send Reply (Simulated)"]})]})]})]})})]},e.id))]})]})})})]})]})})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30348:(e,s,t)=>{Promise.resolve().then(t.bind(t,40269))},33873:e=>{"use strict";e.exports=require("path")},36428:(e,s,t)=>{Promise.resolve().then(t.bind(t,2039))},40269:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\ByteBrusters\\\\bytebrusters\\\\src\\\\app\\\\admin\\\\dashboard\\\\feedback\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\ByteBrusters\\bytebrusters\\src\\app\\admin\\dashboard\\feedback\\page.tsx","default")},56037:e=>{"use strict";e.exports=require("mongoose")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79551:e=>{"use strict";e.exports=require("url")},82670:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>c});var r=t(65239),a=t(48088),i=t(88170),n=t.n(i),l=t(30893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let c={children:["",{children:["admin",{children:["dashboard",{children:["feedback",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,40269)),"D:\\ByteBrusters\\bytebrusters\\src\\app\\admin\\dashboard\\feedback\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,99111)),"D:\\ByteBrusters\\bytebrusters\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"D:\\ByteBrusters\\bytebrusters\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,o=["D:\\ByteBrusters\\bytebrusters\\src\\app\\admin\\dashboard\\feedback\\page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/dashboard/feedback/page",pathname:"/admin/dashboard/feedback",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[4447,8740,1658,1146,6134,5741,729,1564,8543,3751,6890,2378],()=>t(82670));module.exports=r})();