(()=>{var e={};e.id=7984,e.ids=[7984],e.modules={2876:(e,t,r)=>{"use strict";r.d(t,{J:()=>s});var a=r(6475);let s=(0,a.createServerReference)("008074f55bceac4157f0c3521e10115092bbb2e006",a.callServer,void 0,a.findSourceMapURL,"getProjects")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7588:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>o,routeModule:()=>p,tree:()=>l});var a=r(65239),s=r(48088),n=r(88170),i=r.n(n),d=r(30893),c={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>d[e]);r.d(t,c);let l={children:["",{children:["admin",{children:["dashboard",{children:["projects",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,39296)),"D:\\ByteBrusters\\bytebrusters\\src\\app\\admin\\dashboard\\projects\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,99111)),"D:\\ByteBrusters\\bytebrusters\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"D:\\ByteBrusters\\bytebrusters\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,o=["D:\\ByteBrusters\\bytebrusters\\src\\app\\admin\\dashboard\\projects\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin/dashboard/projects/page",pathname:"/admin/dashboard/projects",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13047:(e,t,r)=>{"use strict";r.d(t,{By:()=>p,z2:()=>m,xx:()=>f,G6:()=>u,JQ:()=>o,vr:()=>h});var a=r(91199);r(42087);var s=r(78496),n=r(56037),i=r.n(n);let d=new n.Schema({title:{type:String,required:!0},description:{type:String,required:!0},longDescription:{type:String},imageUrl:{type:String,required:!0},dataAiHint:{type:String},tags:{type:[String],default:[]},liveUrl:{type:String},repoUrl:{type:String},client:{type:String},date:{type:Date},technologies:{type:[String],default:[]},status:{type:String,enum:["Planning","In Progress","Completed","On Hold"],default:"Planning"},developerName:{type:String,required:!0}},{timestamps:!0}),c=n.models.Project||i().model("Project",d);function l(e){let t=e&&"function"==typeof e.toObject?e.toObject({virtuals:!0,getters:!0}):{...e};return{id:t._id?t._id.toString():t.id,title:t.title||"",description:t.description||"",longDescription:t.longDescription||"",imageUrl:t.imageUrl||"",dataAiHint:t.dataAiHint||"",tags:Array.isArray(t.tags)?t.tags:[],liveUrl:t.liveUrl||"",repoUrl:t.repoUrl||"",client:t.client||"",date:t.date?new Date(t.date).toISOString().split("T")[0]:void 0,technologies:Array.isArray(t.technologies)?t.technologies:[],status:t.status||"Planning",developerName:t.developerName,createdAt:t.createdAt?new Date(t.createdAt).toISOString():void 0,updatedAt:t.updatedAt?new Date(t.updatedAt).toISOString():void 0}}async function o(){try{return await (0,s.A)(),(await c.find({}).sort({createdAt:-1}).lean()).map(l)}catch(e){throw console.error("Error fetching projects:",e),Error(`Failed to fetch projects. ${e.message}`)}}async function u(e){try{if(await (0,s.A)(),!e.match(/^[0-9a-fA-F]{24}$/))return console.warn(`Invalid project ID format: ${e}`),null;let t=await c.findById(e).lean();if(!t)return null;return l(t)}catch(t){throw console.error(`Error fetching project by ID ${e}:`,t),Error(`Failed to fetch project ${e}. ${t.message}`)}}async function p(e){try{await (0,s.A)();let t=new c({...e,date:e.date?new Date(e.date):void 0,imageUrl:e.imageUrl||`https://placehold.co/600x400.png?text=${encodeURIComponent(e.title.charAt(0))}`,dataAiHint:e.dataAiHint||"project abstract"}),r=await t.save();return l(r)}catch(e){if(console.error("Error adding project:",e),e instanceof Error&&"ValidationError"===e.name)throw Error(`Validation failed: ${e.message}`);throw Error(`Failed to add project. ${e.message}`)}}async function h(e,t){try{if(await (0,s.A)(),!e.match(/^[0-9a-fA-F]{24}$/))throw console.warn(`Invalid project ID format for update: ${e}`),Error("Invalid project ID format for update.");let r={...t};""===t.date?r.date=void 0:t.date&&(r.date=new Date(t.date));let a=await c.findByIdAndUpdate(e,r,{new:!0,runValidators:!0});if(!a)return console.error(`Project with ID ${e} not found for update.`),null;return l(a)}catch(t){if(console.error(`Error updating project ${e}:`,t),t instanceof Error&&"ValidationError"===t.name)throw Error(`Validation failed: ${t.message}`);throw Error(`Failed to update project ${e}. ${t.message}`)}}async function f(e){try{if(await (0,s.A)(),!e.match(/^[0-9a-fA-F]{24}$/))throw console.warn(`Invalid project ID format for delete: ${e}`),Error("Invalid project ID format for delete.");if(!await c.findByIdAndDelete(e))return console.warn(`Project with ID ${e} not found for deletion.`),!1;return!0}catch(t){throw console.error(`Error deleting project ${e}:`,t),Error(`Failed to delete project ${e}. ${t.message}`)}}async function m(e){if(!e||0===e.length)return{success:!1,deletedCount:0,error:"No project IDs provided for deletion."};try{for(let t of(await (0,s.A)(),e))if(!t.match(/^[0-9a-fA-F]{24}$/))throw Error(`Invalid project ID format: ${t}.`);let t=await c.deleteMany({_id:{$in:e}});return{success:!0,deletedCount:t.deletedCount||0}}catch(e){return console.error("Error deleting multiple projects:",e),{success:!1,deletedCount:0,error:`Failed to delete projects. ${e.message}`}}}(0,r(33331).D)([o,u,p,h,f,m]),(0,a.A)(o,"008074f55bceac4157f0c3521e10115092bbb2e006",null),(0,a.A)(u,"405237676d192432c2c0655b3b2b4f300067a226a4",null),(0,a.A)(p,"40f611689c0257d51bc42064bc9401ee906e7f5123",null),(0,a.A)(h,"60f9a5892eda91481593b1a029dd3a293a188bc8a1",null),(0,a.A)(f,"4003f829f8c77a85736cac3b00b9cd3b8a94237e96",null),(0,a.A)(m,"402605ed0115a7898c3d4854f78bfa2302480d06a1",null)},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26911:(e,t,r)=>{Promise.resolve().then(r.bind(r,39296))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30474:(e,t,r)=>{"use strict";r.d(t,{default:()=>s.a});var a=r(31261),s=r.n(a)},31261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return c},getImageProps:function(){return d}});let a=r(14985),s=r(44953),n=r(46533),i=a._(r(1933));function d(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=n.Image},33873:e=>{"use strict";e.exports=require("path")},35265:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(82614).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},39296:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\ByteBrusters\\\\bytebrusters\\\\src\\\\app\\\\admin\\\\dashboard\\\\projects\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\ByteBrusters\\bytebrusters\\src\\app\\admin\\dashboard\\projects\\page.tsx","default")},56037:e=>{"use strict";e.exports=require("mongoose")},61935:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>D});var a=r(60687),s=r(43210),n=r(29523),i=r(44493),d=r(6211),c=r(96834),l=r(11516),o=r(57207),u=r(35265),p=r(69795),h=r(35137),f=r(76311),m=r(85814),j=r.n(m),b=r(30474),x=r(21342),g=r(71453),v=r(29867),y=r(2876),w=r(6475);let A=(0,w.createServerReference)("4003f829f8c77a85736cac3b00b9cd3b8a94237e96",w.callServer,void 0,w.findSourceMapURL,"deleteProject"),P=(0,w.createServerReference)("402605ed0115a7898c3d4854f78bfa2302480d06a1",w.callServer,void 0,w.findSourceMapURL,"deleteManyProjects");var S=r(16189),N=r(82978),$=r(55925);function D(){let[e,t]=(0,s.useState)([]),[r,m]=(0,s.useState)(!0),{toast:w}=(0,v.dj)(),D=(0,S.useRouter)(),[C,E]=(0,s.useState)([]),[I,k]=(0,s.useState)(!1),[_,B]=(0,s.useState)(null),[U,F]=(0,s.useState)(!1);(0,s.useCallback)(async()=>{m(!0);try{let e=await (0,y.J)();t(e)}catch(e){console.error("Failed to fetch projects:",e),w({title:"Error Loading Projects",description:e.message||"Failed to load projects.",variant:"destructive"})}finally{m(!1)}},[w]);let O=(e,t)=>{E(r=>t?[...r,e]:r.filter(t=>t!==e))},q=t=>{t?E(e.map(e=>e.id)):E([])},M=e.length>0&&C.length===e.length,R=e=>{B(e),k(!0)},H=async()=>{if(!_)return;let r=e.find(e=>e.id===_);if(r)try{await A(_),t(e=>e.filter(e=>e.id!==_)),E(e=>e.filter(e=>e!==_)),w({title:"Project Deleted",description:`Project "${r.title}" has been removed.`})}catch(e){w({title:"Error Deleting Project",description:e.message||`Failed to delete project "${r.title}".`,variant:"destructive"})}finally{k(!1),B(null)}},z=async()=>{if(0!==C.length)try{let e=await P(C);if(e.success)t(e=>e.filter(e=>!C.includes(e.id))),w({title:"Projects Deleted",description:`${e.deletedCount} project(s) have been removed.`}),E([]);else throw Error(e.error||"Failed to delete selected projects.")}catch(e){w({title:"Error Deleting Projects",description:e.message||"Failed to delete selected projects.",variant:"destructive"})}finally{F(!1)}};return r?(0,a.jsx)("div",{className:"flex justify-center items-center min-h-[calc(100vh-10rem)]",children:(0,a.jsx)(l.A,{className:"h-12 w-12 animate-spin text-primary"})}):(0,a.jsx)(g.FadeIn,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Manage Projects"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Add, edit, or showcase your agency's projects."})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[C.length>0&&(0,a.jsxs)(n.$,{variant:"destructive",onClick:()=>{if(0===C.length){w({title:"No Projects Selected",description:"Please select projects to delete.",variant:"destructive"});return}F(!0)},className:"w-full sm:w-auto",children:[(0,a.jsx)(o.A,{className:"mr-2 h-5 w-5"})," Delete Selected (",C.length,")"]}),(0,a.jsx)(j(),{href:"/admin/dashboard/projects/new",className:"w-full sm:w-auto",children:(0,a.jsxs)(n.$,{className:"button-primary w-full sm:w-auto",children:[(0,a.jsx)(u.A,{className:"mr-2 h-5 w-5"})," Add New Project"]})})]})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"All Projects"}),(0,a.jsx)(i.BT,{children:"A list of all projects undertaken by ByteBrusters."})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(d.XI,{children:[(0,a.jsx)(d.A0,{children:(0,a.jsxs)(d.Hj,{children:[(0,a.jsx)(d.nd,{className:"w-[50px]",children:(0,a.jsx)(N.S,{checked:M,onCheckedChange:e=>q(!!e),"aria-label":"Select all projects",disabled:0===e.length})}),(0,a.jsx)(d.nd,{className:"w-[80px] min-w-[80px]",children:"Image"}),(0,a.jsx)(d.nd,{className:"min-w-[200px]",children:"Project Name"}),(0,a.jsx)(d.nd,{className:"min-w-[150px]",children:"Developer"}),(0,a.jsx)(d.nd,{className:"min-w-[150px]",children:"Client"}),(0,a.jsx)(d.nd,{className:"min-w-[120px]",children:"Status"}),(0,a.jsx)(d.nd,{className:"text-right min-w-[100px]",children:"Actions"})]})}),(0,a.jsxs)(d.BF,{children:[0===e.length&&!r&&(0,a.jsx)(d.Hj,{children:(0,a.jsx)(d.nA,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No projects found. Add your first project!"})}),e.map(e=>(0,a.jsxs)(d.Hj,{"data-state":C.includes(e.id)?"selected":"",children:[(0,a.jsx)(d.nA,{children:(0,a.jsx)(N.S,{checked:C.includes(e.id),onCheckedChange:t=>O(e.id,!!t),"aria-label":`Select project ${e.title}`})}),(0,a.jsx)(d.nA,{children:(0,a.jsx)(b.default,{src:e.imageUrl||"https://placehold.co/40x40.png",alt:e.title||"Project image",width:40,height:40,"data-ai-hint":e.dataAiHint||"logo abstract",className:"rounded-md object-cover"})}),(0,a.jsx)(d.nA,{className:"font-medium",children:e.title}),(0,a.jsx)(d.nA,{children:e.developerName}),(0,a.jsx)(d.nA,{children:e.client||"N/A"}),(0,a.jsx)(d.nA,{children:(0,a.jsx)(c.E,{variant:"Completed"===e.status?"default":"In Progress"===e.status?"secondary":"Planning"===e.status?"outline":"On Hold"===e.status?"destructive":"outline",className:"capitalize",children:e.status||"Unknown"})}),(0,a.jsx)(d.nA,{className:"text-right",children:(0,a.jsxs)(x.rI,{children:[(0,a.jsx)(x.ty,{asChild:!0,children:(0,a.jsxs)(n.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,a.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,a.jsx)(p.A,{className:"h-4 w-4"})]})}),(0,a.jsxs)(x.SQ,{align:"end",children:[(0,a.jsx)(x.lp,{children:"Actions"}),(0,a.jsxs)(x._2,{onClick:()=>D.push(`/admin/dashboard/projects/edit/${e.id}`),children:[(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4"})," Edit"]}),(0,a.jsxs)(x._2,{onClick:()=>D.push(`/projects/${e.id}`),children:[(0,a.jsx)(f.A,{className:"mr-2 h-4 w-4"})," View Public"]}),(0,a.jsx)(x.mB,{}),(0,a.jsxs)(x._2,{onClick:()=>R(e.id),className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[(0,a.jsx)(o.A,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})})]},e.id))]})]})})})]}),(0,a.jsx)($.Lt,{open:I,onOpenChange:k,children:(0,a.jsxs)($.EO,{children:[(0,a.jsxs)($.wd,{children:[(0,a.jsx)($.r7,{children:"Are you absolutely sure?"}),(0,a.jsxs)($.$v,{children:['This action cannot be undone. This will permanently delete the project "',e.find(e=>e.id===_)?.title||"selected project",'".']})]}),(0,a.jsxs)($.ck,{children:[(0,a.jsx)($.Zr,{onClick:()=>B(null),children:"Cancel"}),(0,a.jsx)($.Rx,{onClick:H,className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})}),(0,a.jsx)($.Lt,{open:U,onOpenChange:F,children:(0,a.jsxs)($.EO,{children:[(0,a.jsxs)($.wd,{children:[(0,a.jsx)($.r7,{children:"Delete Selected Projects?"}),(0,a.jsxs)($.$v,{children:["This will permanently delete ",C.length," project(s). This action cannot be undone."]})]}),(0,a.jsxs)($.ck,{children:[(0,a.jsx)($.Zr,{children:"Cancel"}),(0,a.jsx)($.Rx,{onClick:z,className:"bg-destructive hover:bg-destructive/90",children:"Delete Selected"})]})]})})]})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63863:(e,t,r)=>{Promise.resolve().then(r.bind(r,61935))},74160:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"00061393abd6518e38b16595e3f4b905882146190f":()=>s.JI,"002d0eba958d31813f85e6c2db85dd72960f8dded4":()=>n.yj,"008074f55bceac4157f0c3521e10115092bbb2e006":()=>i.JQ,"00bc4f7564fde94a50455acda65366056bb0f595ee":()=>n.$y,"00ca64ee14986a86c05ea376a6efda613b2dd31ede":()=>a.nL,"00d5abee94d07e17d8184bcda84be27888cf3b9da6":()=>a.Tb,"00db0a0b21aba57ce43e3e1830dd85242588fa0a89":()=>s.NW,"4003f829f8c77a85736cac3b00b9cd3b8a94237e96":()=>i.xx,"402605ed0115a7898c3d4854f78bfa2302480d06a1":()=>i.z2,"4030c9246b4cbeecb6227fd70b65fce90b58820a33":()=>n.qb,"40408e17c5b9dc5189e571c0217cdf4819acde8c52":()=>a.VN,"40413e13c7f5036fccda64823befba6e3c316e6640":()=>a.MP,"4046443a3f714018b0977adc9c9567400f1bdcbc98":()=>n.ts,"405237676d192432c2c0655b3b2b4f300067a226a4":()=>i.G6,"4053d6e1ec96e8c0ea77a3b26008c756fea79e2662":()=>s.Wz,"405a013574d86fac895293d6a0b9426cae768e67db":()=>a.ew,"407c2217ee2d9f96e9d47feb11c098ae1630be4460":()=>s.FU,"40cf001079cf190da5380449a65d3e1f6eb01c49a9":()=>a.P7,"40f611689c0257d51bc42064bc9401ee906e7f5123":()=>i.By,"605687be82858f5df77276960ad12be340471ac1b0":()=>n._f,"60ac6a356f7ad5840d4d035686a7b23423bd2ddcea":()=>a.lg,"60f9a5892eda91481593b1a029dd3a293a188bc8a1":()=>i.vr});var a=r(15390),s=r(55150),n=r(96846),i=r(13047)},76311:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(82614).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},79551:e=>{"use strict";e.exports=require("url")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[4447,8740,1658,1146,6134,5741,729,6533,3751,6890,7990],()=>r(7588));module.exports=a})();