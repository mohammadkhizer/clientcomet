(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[781],{1721:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(157).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2080:(e,r,t)=>{Promise.resolve().then(t.bind(t,8137))},8137:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>C});var s=t(5155),l=t(2115),a=t(5695),n=t(2177),i=t(221),o=t(1153),c=t(285),d=t(2523),x=t(8539),j=t(6695),m=t(7759),p=t(9409),h=t(7481),u=t(172),g=t(2543),f=t(1721),v=t(9311),b=t(9119),y=t(8885),N=t(4477);let U=(0,N.createServerReference)("405237676d192432c2c0655b3b2b4f300067a226a4",N.callServer,void 0,N.findSourceMapURL,"getProjectById"),I=(0,N.createServerReference)("60f9a5892eda91481593b1a029dd3a293a188bc8a1",N.callServer,void 0,N.findSourceMapURL,"updateProject"),R=o.Ik({title:o.Yj().min(3,{message:"Project name must be at least 3 characters."}),client:o.Yj().optional().or(o.eu("")),description:o.Yj().min(10,{message:"Description must be at least 10 characters."}).max(1e3,{message:"Description must not exceed 1000 characters."}),longDescription:o.Yj().max(5e3,{message:"Long description too long"}).optional().or(o.eu("")),imageUrl:o.Yj().url({message:"Please enter a valid image URL."}).optional().or(o.eu("")),dataAiHint:o.Yj().max(50,{message:"AI Hint too long"}).optional().or(o.eu("")),developerName:o.Yj().min(2,{message:"Developer name must be at least 2 characters."}),status:o.k5(["Planning","In Progress","Completed","On Hold"],{required_error:"Please select a status."}),tags:o.Yj().optional().transform(e=>e?e.split(",").map(e=>e.trim()).filter(e=>e):[]),technologies:o.Yj().optional().transform(e=>e?e.split(",").map(e=>e.trim()).filter(e=>e):[]),liveUrl:o.Yj().url({message:"Invalid live URL."}).optional().or(o.eu("")),repoUrl:o.Yj().url({message:"Invalid repository URL."}).optional().or(o.eu("")),date:o.Yj().refine(e=>!e||!isNaN(Date.parse(e))||/^\d{4}-\d{2}-\d{2}$/.test(e),{message:"Invalid date format. Use YYYY-MM-DD or leave empty."}).optional().or(o.eu(""))});function C(){let e=(0,a.useRouter)(),r=(0,a.useParams)().id,{toast:t}=(0,h.dj)(),[o,N]=(0,l.useState)(!1),[C,P]=(0,l.useState)(!0),[A,k]=(0,l.useState)(null),w=(0,n.mN)({resolver:(0,i.u)(R),defaultValues:{title:"",client:"",description:"",longDescription:"",imageUrl:"",dataAiHint:"",developerName:"",status:"Planning",tags:[],technologies:[],liveUrl:"",repoUrl:"",date:""}}),M=(0,l.useCallback)(async()=>{if(r){P(!0);try{let s=await U(r);s?(k(s),w.reset({title:s.title||"",client:s.client||"",description:s.description||"",longDescription:s.longDescription||"",imageUrl:s.imageUrl||"",dataAiHint:s.dataAiHint||"",developerName:s.developerName||"",status:s.status||"Planning",tags:Array.isArray(s.tags)?s.tags.join(", "):"",technologies:Array.isArray(s.technologies)?s.technologies.join(", "):"",liveUrl:s.liveUrl||"",repoUrl:s.repoUrl||"",date:s.date?s.date.split("T")[0]:""})):(t({title:"Error",description:"Project not found.",variant:"destructive"}),e.push("/admin/dashboard/projects"))}catch(e){t({title:"Error fetching project",description:e.message,variant:"destructive"})}finally{P(!1)}}},[r,w,t,e]);async function D(r){if(!A)return;N(!0);let s={...r};try{let r=await I(A.id,s);t({title:"Project Updated",description:'Project "'.concat(null==r?void 0:r.title,'" has been updated successfully.')}),e.push("/admin/dashboard/projects")}catch(e){t({title:"Error Updating Project",description:e.message||"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{N(!1)}}return((0,l.useEffect)(()=>{M()},[M]),C)?(0,s.jsx)("div",{className:"flex justify-center items-center min-h-[calc(100vh-10rem)]",children:(0,s.jsx)(u.A,{className:"h-12 w-12 animate-spin text-primary"})}):A||C?(0,s.jsxs)(y.FadeIn,{children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)(c.$,{variant:"outline",onClick:()=>e.back(),className:"mb-4",children:[(0,s.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Back to Projects"]}),(0,s.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Edit Project"}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:["Update the details for the project: ",null==A?void 0:A.title]})]}),(0,s.jsx)(m.lV,{...w,children:(0,s.jsx)("form",{onSubmit:w.handleSubmit(D),children:(0,s.jsxs)(j.Zp,{children:[(0,s.jsxs)(j.aR,{children:[(0,s.jsx)(j.ZB,{children:"Project Information"}),(0,s.jsx)(j.BT,{children:"Modify the project details below."})]}),(0,s.jsxs)(j.Wu,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsx)(m.zB,{control:w.control,name:"title",render:e=>{let{field:r}=e;return(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Project Title"}),(0,s.jsx)(m.MJ,{children:(0,s.jsx)(d.p,{placeholder:"e.g., Enterprise E-commerce Platform",...r})}),(0,s.jsx)(m.C5,{})]})}}),(0,s.jsx)(m.zB,{control:w.control,name:"client",render:e=>{let{field:r}=e;return(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Client Name (Optional)"}),(0,s.jsx)(m.MJ,{children:(0,s.jsx)(d.p,{placeholder:"e.g., Retail Corp",...r})}),(0,s.jsx)(m.C5,{})]})}})]}),(0,s.jsx)(m.zB,{control:w.control,name:"developerName",render:e=>{let{field:r}=e;return(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Developer Name"}),(0,s.jsx)(m.MJ,{children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(f.A,{className:"h-5 w-5 text-muted-foreground"}),(0,s.jsx)(d.p,{placeholder:"e.g., Jane Doe",...r})]})}),(0,s.jsx)(m.C5,{})]})}}),(0,s.jsx)(m.zB,{control:w.control,name:"description",render:e=>{let{field:r}=e;return(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Short Description (for cards)"}),(0,s.jsx)(m.MJ,{children:(0,s.jsx)(x.T,{placeholder:"Brief summary of the project...",className:"min-h-[100px]",...r})}),(0,s.jsx)(m.C5,{})]})}}),(0,s.jsx)(m.zB,{control:w.control,name:"longDescription",render:e=>{let{field:r}=e;return(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Detailed Description (for project page, Optional)"}),(0,s.jsx)(m.MJ,{children:(0,s.jsx)(x.T,{placeholder:"In-depth description of the project, goals, features, outcomes...",className:"min-h-[150px]",...r})}),(0,s.jsx)(m.C5,{})]})}}),(0,s.jsx)(m.zB,{control:w.control,name:"status",render:e=>{let{field:r}=e;return(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Status"}),(0,s.jsxs)(p.l6,{onValueChange:r.onChange,defaultValue:r.value,children:[(0,s.jsx)(m.MJ,{children:(0,s.jsx)(p.bq,{children:(0,s.jsx)(p.yv,{placeholder:"Select project status"})})}),(0,s.jsxs)(p.gC,{children:[(0,s.jsx)(p.eb,{value:"Planning",children:"Planning"}),(0,s.jsx)(p.eb,{value:"In Progress",children:"In Progress"}),(0,s.jsx)(p.eb,{value:"Completed",children:"Completed"}),(0,s.jsx)(p.eb,{value:"On Hold",children:"On Hold"})]})]}),(0,s.jsx)(m.C5,{})]})}}),(0,s.jsx)(m.zB,{control:w.control,name:"imageUrl",render:e=>{let{field:r}=e;return(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Image URL (Optional)"}),(0,s.jsx)(m.MJ,{children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(v.A,{className:"h-5 w-5 text-muted-foreground"}),(0,s.jsx)(d.p,{placeholder:"https://placehold.co/600x400.png",...r})]})}),(0,s.jsx)(m.C5,{})]})}}),(0,s.jsx)(m.zB,{control:w.control,name:"dataAiHint",render:e=>{let{field:r}=e;return(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Image AI Hint (Optional)"}),(0,s.jsx)(m.MJ,{children:(0,s.jsx)(d.p,{placeholder:"e.g., website e-commerce (max 2 words)",...r})}),(0,s.jsx)(m.C5,{}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground pt-1",children:"One or two keywords for image generation."})]})}}),(0,s.jsx)(m.zB,{control:w.control,name:"tags",render:e=>{let{field:r}=e;return(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Tags (comma-separated, Optional)"}),(0,s.jsx)(m.MJ,{children:(0,s.jsx)(d.p,{placeholder:"e.g., E-commerce, Web Dev, React",...r})}),(0,s.jsx)(m.C5,{})]})}}),(0,s.jsx)(m.zB,{control:w.control,name:"technologies",render:e=>{let{field:r}=e;return(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Technologies Used (comma-separated, Optional)"}),(0,s.jsx)(m.MJ,{children:(0,s.jsx)(d.p,{placeholder:"e.g., Next.js, Tailwind, Stripe",...r})}),(0,s.jsx)(m.C5,{})]})}}),(0,s.jsx)(m.zB,{control:w.control,name:"liveUrl",render:e=>{let{field:r}=e;return(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Live Site URL (Optional)"}),(0,s.jsx)(m.MJ,{children:(0,s.jsx)(d.p,{placeholder:"https://example.com",...r})}),(0,s.jsx)(m.C5,{})]})}}),(0,s.jsx)(m.zB,{control:w.control,name:"repoUrl",render:e=>{let{field:r}=e;return(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Code Repository URL (Optional)"}),(0,s.jsx)(m.MJ,{children:(0,s.jsx)(d.p,{placeholder:"https://github.com/user/repo",...r})}),(0,s.jsx)(m.C5,{})]})}}),(0,s.jsx)(m.zB,{control:w.control,name:"date",render:e=>{let{field:r}=e;return(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Completion Date (YYYY-MM-DD, Optional)"}),(0,s.jsx)(m.MJ,{children:(0,s.jsx)(d.p,{placeholder:"e.g., 2023-10-26",...r,type:"date"})}),(0,s.jsx)(m.C5,{})]})}})]}),(0,s.jsx)(j.wL,{className:"flex justify-end",children:(0,s.jsx)(c.$,{type:"submit",className:"button-primary",disabled:o||C,children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating Project..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.A,{className:"mr-2 h-4 w-4"})," Update Project"]})})})]})})})]}):(0,s.jsxs)("div",{className:"text-center py-10",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Project not found or could not be loaded."}),(0,s.jsxs)(c.$,{variant:"outline",onClick:()=>e.back(),className:"mt-4",children:[(0,s.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Go Back"]})]})}},8539:(e,r,t)=>{"use strict";t.d(r,{T:()=>n});var s=t(5155),l=t(2115),a=t(9434);let n=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm resize-none",t),ref:r,...l})});n.displayName="Textarea"},9311:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(157).A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])}},e=>{var r=r=>e(e.s=r);e.O(0,[4277,7920,9086,9550,5152,2378,6307,8441,1684,7358],()=>r(2080)),_N_E=e.O()}]);