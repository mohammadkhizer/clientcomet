(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7984],{10:(e,t,s)=>{"use strict";s.d(t,{$v:()=>f,EO:()=>u,Lt:()=>i,Rx:()=>j,Zr:()=>p,ck:()=>h,r7:()=>x,wd:()=>m});var r=s(5155),a=s(2115),l=s(7649),n=s(9434),c=s(285);let i=l.bL;l.l9;let d=l.ZL,o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.hJ,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a,ref:t})});o.displayName=l.hJ.displayName;let u=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(o,{}),(0,r.jsx)(l.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a})]})});u.displayName=l.UC.displayName;let m=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};m.displayName="AlertDialogHeader";let h=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};h.displayName="AlertDialogFooter";let x=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold",s),...a})});x.displayName=l.hE.displayName;let f=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})});f.displayName=l.VY.displayName;let j=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.rc,{ref:t,className:(0,n.cn)((0,c.r)(),s),...a})});j.displayName=l.rc.displayName;let p=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.ZD,{ref:t,className:(0,n.cn)((0,c.r)({variant:"outline"}),"mt-2 sm:mt-0",s),...a})});p.displayName=l.ZD.displayName},1469:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return i},getImageProps:function(){return c}});let r=s(8229),a=s(8883),l=s(3063),n=r._(s(1193));function c(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let i=l.Image},4301:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(157).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},6126:(e,t,s)=>{"use strict";s.d(t,{E:()=>c});var r=s(5155);s(2115);var a=s(2085),l=s(9434);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)(n({variant:s}),t),...a})}},6353:(e,t,s)=>{Promise.resolve().then(s.bind(s,7392))},6766:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var r=s(1469),a=s.n(r)},6937:(e,t,s)=>{"use strict";s.d(t,{J:()=>a});var r=s(4477);let a=(0,r.createServerReference)("008074f55bceac4157f0c3521e10115092bbb2e006",r.callServer,void 0,r.findSourceMapURL,"getProjects")},7262:(e,t,s)=>{"use strict";s.d(t,{S:()=>i});var r=s(5155),a=s(2115),l=s(6981),n=s(518),c=s(9434);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.bL,{ref:t,className:(0,c.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...a,children:(0,r.jsx)(l.C1,{className:(0,c.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})})});i.displayName=l.bL.displayName},7392:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>C});var r=s(5155),a=s(2115),l=s(285),n=s(6695),c=s(5127),i=s(6126),d=s(172),o=s(7223),u=s(4301),m=s(3561),h=s(8763),x=s(7607),f=s(6874),j=s.n(f),p=s(6766),g=s(4838),v=s(8885),y=s(7481),N=s(6937),b=s(4477);let w=(0,b.createServerReference)("4003f829f8c77a85736cac3b00b9cd3b8a94237e96",b.callServer,void 0,b.findSourceMapURL,"deleteProject"),A=(0,b.createServerReference)("402605ed0115a7898c3d4854f78bfa2302480d06a1",b.callServer,void 0,b.findSourceMapURL,"deleteManyProjects");var k=s(5695),P=s(7262),S=s(10);function C(){var e;let[t,s]=(0,a.useState)([]),[f,b]=(0,a.useState)(!0),{toast:C}=(0,y.dj)(),R=(0,k.useRouter)(),[E,D]=(0,a.useState)([]),[_,L]=(0,a.useState)(!1),[O,z]=(0,a.useState)(null),[F,M]=(0,a.useState)(!1),I=(0,a.useCallback)(async()=>{b(!0);try{let e=await (0,N.J)();s(e)}catch(e){console.error("Failed to fetch projects:",e),C({title:"Error Loading Projects",description:e.message||"Failed to load projects.",variant:"destructive"})}finally{b(!1)}},[C]);(0,a.useEffect)(()=>{I()},[I]);let Z=(e,t)=>{D(s=>t?[...s,e]:s.filter(t=>t!==e))},U=e=>{e?D(t.map(e=>e.id)):D([])},B=t.length>0&&E.length===t.length,H=e=>{z(e),L(!0)},$=async()=>{if(!O)return;let e=t.find(e=>e.id===O);if(e)try{await w(O),s(e=>e.filter(e=>e.id!==O)),D(e=>e.filter(e=>e!==O)),C({title:"Project Deleted",description:'Project "'.concat(e.title,'" has been removed.')})}catch(t){C({title:"Error Deleting Project",description:t.message||'Failed to delete project "'.concat(e.title,'".'),variant:"destructive"})}finally{L(!1),z(null)}},T=async()=>{if(0!==E.length)try{let e=await A(E);if(e.success)s(e=>e.filter(e=>!E.includes(e.id))),C({title:"Projects Deleted",description:"".concat(e.deletedCount," project(s) have been removed.")}),D([]);else throw Error(e.error||"Failed to delete selected projects.")}catch(e){C({title:"Error Deleting Projects",description:e.message||"Failed to delete selected projects.",variant:"destructive"})}finally{M(!1)}};return f?(0,r.jsx)("div",{className:"flex justify-center items-center min-h-[calc(100vh-10rem)]",children:(0,r.jsx)(d.A,{className:"h-12 w-12 animate-spin text-primary"})}):(0,r.jsx)(v.FadeIn,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Manage Projects"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Add, edit, or showcase your agency's projects."})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[E.length>0&&(0,r.jsxs)(l.$,{variant:"destructive",onClick:()=>{if(0===E.length){C({title:"No Projects Selected",description:"Please select projects to delete.",variant:"destructive"});return}M(!0)},className:"w-full sm:w-auto",children:[(0,r.jsx)(o.A,{className:"mr-2 h-5 w-5"})," Delete Selected (",E.length,")"]}),(0,r.jsx)(j(),{href:"/admin/dashboard/projects/new",className:"w-full sm:w-auto",children:(0,r.jsxs)(l.$,{className:"button-primary w-full sm:w-auto",children:[(0,r.jsx)(u.A,{className:"mr-2 h-5 w-5"})," Add New Project"]})})]})]}),(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{children:"All Projects"}),(0,r.jsx)(n.BT,{children:"A list of all projects undertaken by ByteBrusters."})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)(c.XI,{children:[(0,r.jsx)(c.A0,{children:(0,r.jsxs)(c.Hj,{children:[(0,r.jsx)(c.nd,{className:"w-[50px]",children:(0,r.jsx)(P.S,{checked:B,onCheckedChange:e=>U(!!e),"aria-label":"Select all projects",disabled:0===t.length})}),(0,r.jsx)(c.nd,{className:"w-[80px] min-w-[80px]",children:"Image"}),(0,r.jsx)(c.nd,{className:"min-w-[200px]",children:"Project Name"}),(0,r.jsx)(c.nd,{className:"min-w-[150px]",children:"Developer"}),(0,r.jsx)(c.nd,{className:"min-w-[150px]",children:"Client"}),(0,r.jsx)(c.nd,{className:"min-w-[120px]",children:"Status"}),(0,r.jsx)(c.nd,{className:"text-right min-w-[100px]",children:"Actions"})]})}),(0,r.jsxs)(c.BF,{children:[0===t.length&&!f&&(0,r.jsx)(c.Hj,{children:(0,r.jsx)(c.nA,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No projects found. Add your first project!"})}),t.map(e=>(0,r.jsxs)(c.Hj,{"data-state":E.includes(e.id)?"selected":"",children:[(0,r.jsx)(c.nA,{children:(0,r.jsx)(P.S,{checked:E.includes(e.id),onCheckedChange:t=>Z(e.id,!!t),"aria-label":"Select project ".concat(e.title)})}),(0,r.jsx)(c.nA,{children:(0,r.jsx)(p.default,{src:e.imageUrl||"https://placehold.co/40x40.png",alt:e.title||"Project image",width:40,height:40,"data-ai-hint":e.dataAiHint||"logo abstract",className:"rounded-md object-cover"})}),(0,r.jsx)(c.nA,{className:"font-medium",children:e.title}),(0,r.jsx)(c.nA,{children:e.developerName}),(0,r.jsx)(c.nA,{children:e.client||"N/A"}),(0,r.jsx)(c.nA,{children:(0,r.jsx)(i.E,{variant:"Completed"===e.status?"default":"In Progress"===e.status?"secondary":"Planning"===e.status?"outline":"On Hold"===e.status?"destructive":"outline",className:"capitalize",children:e.status||"Unknown"})}),(0,r.jsx)(c.nA,{className:"text-right",children:(0,r.jsxs)(g.rI,{children:[(0,r.jsx)(g.ty,{asChild:!0,children:(0,r.jsxs)(l.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,r.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,r.jsx)(m.A,{className:"h-4 w-4"})]})}),(0,r.jsxs)(g.SQ,{align:"end",children:[(0,r.jsx)(g.lp,{children:"Actions"}),(0,r.jsxs)(g._2,{onClick:()=>R.push("/admin/dashboard/projects/edit/".concat(e.id)),children:[(0,r.jsx)(h.A,{className:"mr-2 h-4 w-4"})," Edit"]}),(0,r.jsxs)(g._2,{onClick:()=>R.push("/projects/".concat(e.id)),children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"})," View Public"]}),(0,r.jsx)(g.mB,{}),(0,r.jsxs)(g._2,{onClick:()=>H(e.id),className:"text-destructive focus:text-destructive focus:bg-destructive/10",children:[(0,r.jsx)(o.A,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})})]},e.id))]})]})})})]}),(0,r.jsx)(S.Lt,{open:_,onOpenChange:L,children:(0,r.jsxs)(S.EO,{children:[(0,r.jsxs)(S.wd,{children:[(0,r.jsx)(S.r7,{children:"Are you absolutely sure?"}),(0,r.jsxs)(S.$v,{children:['This action cannot be undone. This will permanently delete the project "',(null===(e=t.find(e=>e.id===O))||void 0===e?void 0:e.title)||"selected project",'".']})]}),(0,r.jsxs)(S.ck,{children:[(0,r.jsx)(S.Zr,{onClick:()=>z(null),children:"Cancel"}),(0,r.jsx)(S.Rx,{onClick:$,className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})}),(0,r.jsx)(S.Lt,{open:F,onOpenChange:M,children:(0,r.jsxs)(S.EO,{children:[(0,r.jsxs)(S.wd,{children:[(0,r.jsx)(S.r7,{children:"Delete Selected Projects?"}),(0,r.jsxs)(S.$v,{children:["This will permanently delete ",E.length," project(s). This action cannot be undone."]})]}),(0,r.jsxs)(S.ck,{children:[(0,r.jsx)(S.Zr,{children:"Cancel"}),(0,r.jsx)(S.Rx,{onClick:T,className:"bg-destructive hover:bg-destructive/90",children:"Delete Selected"})]})]})})]})})}},7607:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(157).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[4277,9086,9550,5152,6874,4204,3063,1279,4776,8441,1684,7358],()=>t(6353)),_N_E=e.O()}]);