(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1031],{1219:(e,r,t)=>{"use strict";t.d(r,{uz:()=>n,Rg:()=>o});var s=t(157);let a=(0,s.A)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),i=(0,s.A)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),l=(0,s.A)("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),c={Code:a,Smartphone:i,Brain:l,Search:(0,s.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Cloud:(0,s.A)("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),ShieldCheck:t(6570).A},n=Object.keys(c),o=e=>e&&c[e]?c[e]:a},2733:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(157).A)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]])},5578:(e,r,t)=>{Promise.resolve().then(t.bind(t,6451))},6451:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>A});var s=t(5155),a=t(2115),i=t(5695),l=t(2177),c=t(221),n=t(1153),o=t(285),d=t(2523),u=t(8539),h=t(6695),x=t(7759),m=t(9409),p=t(7481),f=t(172),j=t(2543),v=t(2733),y=t(9119),g=t(8885),b=t(4477);let k=(0,b.createServerReference)("4094fd49496d6350a09494dbecad14c366338f6af1",b.callServer,void 0,b.findSourceMapURL,"getServiceById"),N=(0,b.createServerReference)("608a47181b8ad8c4ade2739726f5f9e837195bf622",b.callServer,void 0,b.findSourceMapURL,"updateService");var S=t(1219);let C=n.Ik({title:n.Yj().min(3,{message:"Service name must be at least 3 characters."}),description:n.Yj().min(10,{message:"Short description must be at least 10 characters."}).max(200,{message:"Short description too long."}),longDescription:n.Yj().min(20,{message:"Detailed description must be at least 20 characters."}).max(2e3,{message:"Detailed description too long."}).optional().or(n.eu("")),iconName:n.k5(S.uz,{required_error:"Please select an icon."}),status:n.k5(["Active","Draft"],{required_error:"Please select a status."}),features:n.Yj().optional().transform(e=>e?e.split(",").map(e=>e.trim()).filter(e=>e):[])});function A(){let e=(0,i.useRouter)(),r=(0,i.useParams)().id,{toast:t}=(0,p.dj)(),[n,b]=(0,a.useState)(!1),[A,M]=(0,a.useState)(!0),[z,w]=(0,a.useState)(null),D=(0,l.mN)({resolver:(0,c.u)(C),defaultValues:{title:"",description:"",longDescription:"",iconName:S.uz.length>0?S.uz[0]:"Code",status:"Draft",features:[]}}),R=(0,a.useCallback)(async()=>{if(r){M(!0);try{let s=await k(r);s?(w(s),D.reset({title:s.title||"",description:s.description||"",longDescription:s.longDescription||"",iconName:s.iconName||(S.uz.length>0?S.uz[0]:"Code"),status:s.status||"Draft",features:Array.isArray(s.features)?s.features.join(", "):""})):(t({title:"Error",description:"Service not found.",variant:"destructive"}),e.push("/admin/dashboard/services"))}catch(e){t({title:"Error fetching service",description:e.message,variant:"destructive"})}finally{M(!1)}}},[r,D,t,e]);async function B(r){if(!z)return;b(!0);let s={title:r.title,description:r.description,longDescription:r.longDescription||"",iconName:r.iconName,status:r.status,features:r.features||[]};try{let r=await N(z.id,s);t({title:"Service Updated",description:'Service "'.concat(null==r?void 0:r.title,'" has been updated successfully.')}),e.push("/admin/dashboard/services")}catch(e){t({title:"Error Updating Service",description:e.message||"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{b(!1)}}return((0,a.useEffect)(()=>{R()},[R]),A)?(0,s.jsx)("div",{className:"flex justify-center items-center min-h-[calc(100vh-10rem)]",children:(0,s.jsx)(f.A,{className:"h-12 w-12 animate-spin text-primary"})}):z||A?(0,s.jsxs)(g.FadeIn,{children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)(o.$,{variant:"outline",onClick:()=>e.back(),className:"mb-4",children:[(0,s.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Back to Services"]}),(0,s.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Edit Service"}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:["Update details for the service: ",null==z?void 0:z.title]})]}),(0,s.jsx)(x.lV,{...D,children:(0,s.jsx)("form",{onSubmit:D.handleSubmit(B),children:(0,s.jsxs)(h.Zp,{children:[(0,s.jsxs)(h.aR,{children:[(0,s.jsx)(h.ZB,{children:"Service Details"}),(0,s.jsx)(h.BT,{children:"Modify information about the service."})]}),(0,s.jsxs)(h.Wu,{className:"space-y-6",children:[(0,s.jsx)(x.zB,{control:D.control,name:"title",render:e=>{let{field:r}=e;return(0,s.jsxs)(x.eI,{children:[(0,s.jsx)(x.lR,{children:"Service Name"}),(0,s.jsx)(x.MJ,{children:(0,s.jsx)(d.p,{placeholder:"e.g., Custom Web Development",...r})}),(0,s.jsx)(x.C5,{})]})}}),(0,s.jsx)(x.zB,{control:D.control,name:"description",render:e=>{let{field:r}=e;return(0,s.jsxs)(x.eI,{children:[(0,s.jsx)(x.lR,{children:"Short Description (for cards)"}),(0,s.jsx)(x.MJ,{children:(0,s.jsx)(u.T,{placeholder:"Brief summary of the service...",className:"min-h-[80px]",...r})}),(0,s.jsx)(x.C5,{})]})}}),(0,s.jsx)(x.zB,{control:D.control,name:"longDescription",render:e=>{let{field:r}=e;return(0,s.jsxs)(x.eI,{children:[(0,s.jsx)(x.lR,{children:"Detailed Description (for service page, Optional)"}),(0,s.jsx)(x.MJ,{children:(0,s.jsx)(u.T,{placeholder:"In-depth explanation of the service, its benefits, etc.",className:"min-h-[120px]",...r})}),(0,s.jsx)(x.C5,{})]})}}),(0,s.jsx)(x.zB,{control:D.control,name:"iconName",render:e=>{let{field:r}=e;return(0,s.jsxs)(x.eI,{children:[(0,s.jsx)(x.lR,{children:"Icon"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.A,{className:"h-5 w-5 text-muted-foreground"}),(0,s.jsxs)(m.l6,{onValueChange:r.onChange,defaultValue:r.value,children:[(0,s.jsx)(x.MJ,{children:(0,s.jsx)(m.bq,{children:(0,s.jsx)(m.yv,{placeholder:"Select an icon"})})}),(0,s.jsx)(m.gC,{children:S.uz.map(e=>{let r=(0,S.Rg)(e);return(0,s.jsx)(m.eb,{value:e,children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:[r&&(0,s.jsx)(r,{className:"h-4 w-4"})," ",e]})},e)})})]})]}),(0,s.jsx)(x.C5,{})]})}}),(0,s.jsx)(x.zB,{control:D.control,name:"features",render:e=>{let{field:r}=e;return(0,s.jsxs)(x.eI,{children:[(0,s.jsx)(x.lR,{children:"Key Features (comma-separated, Optional)"}),(0,s.jsx)(x.MJ,{children:(0,s.jsx)(d.p,{placeholder:"e.g., Feature 1, Feature 2, Feature 3",...r})}),(0,s.jsx)(x.C5,{})]})}}),(0,s.jsx)(x.zB,{control:D.control,name:"status",render:e=>{let{field:r}=e;return(0,s.jsxs)(x.eI,{children:[(0,s.jsx)(x.lR,{children:"Status"}),(0,s.jsxs)(m.l6,{onValueChange:r.onChange,defaultValue:r.value,children:[(0,s.jsx)(x.MJ,{children:(0,s.jsx)(m.bq,{children:(0,s.jsx)(m.yv,{placeholder:"Select a status"})})}),(0,s.jsxs)(m.gC,{children:[(0,s.jsx)(m.eb,{value:"Active",children:"Active"}),(0,s.jsx)(m.eb,{value:"Draft",children:"Draft"})]})]}),(0,s.jsx)(x.C5,{})]})}})]}),(0,s.jsx)(h.wL,{className:"flex justify-end",children:(0,s.jsx)(o.$,{type:"submit",className:"button-primary",disabled:n||A,children:n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.A,{className:"mr-2 h-4 w-4"})," Update Service"]})})})]})})})]}):(0,s.jsxs)("div",{className:"text-center py-10",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Service not found or could not be loaded."}),(0,s.jsxs)(o.$,{variant:"outline",onClick:()=>e.back(),className:"mt-4",children:[(0,s.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Go Back"]})]})}},6570:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(157).A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},8539:(e,r,t)=>{"use strict";t.d(r,{T:()=>l});var s=t(5155),a=t(2115),i=t(9434);let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm resize-none",t),ref:r,...a})});l.displayName="Textarea"}},e=>{var r=r=>e(e.s=r);e.O(0,[4277,7920,9086,9550,5152,2378,6307,8441,1684,7358],()=>r(5578)),_N_E=e.O()}]);