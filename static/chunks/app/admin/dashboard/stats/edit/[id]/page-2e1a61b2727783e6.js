(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7012],{423:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M});var r=a(5155),s=a(2115),l=a(5695),n=a(2177),i=a(221),c=a(1153),d=a(285),o=a(2523),h=a(6695),m=a(7759),u=a(9409),x=a(7481),p=a(172),j=a(2543),y=a(5263),f=a(2733),v=a(9119),k=a(8885),g=a(4477);let N=(0,g.createServerReference)("40f9628718251c4df2ad2d8031863c6e83c405db0e",g.callServer,void 0,g.findSourceMapURL,"getStatItemById"),C=(0,g.createServerReference)("60dbedea40ea429b11ee40a3a7f1da1eefa7a7326e",g.callServer,void 0,g.findSourceMapURL,"updateStatItem");var S=a(1219);let b="---NO_ICON_SELECTED---",A=c.Ik({title:c.Yj().min(3,{message:"Title must be at least 3 characters."}).max(100,{message:"Title too long."}),value:c.Yj().min(1,{message:"Value is required."}).max(50,{message:"Value too long."}),iconName:c.Yj().optional(),sortOrder:c.au.number().int().optional().default(0)});function M(){let e=(0,l.useRouter)(),t=(0,l.useParams)().id,{toast:a}=(0,x.dj)(),[c,g]=(0,s.useState)(!1),[M,w]=(0,s.useState)(!0),[I,O]=(0,s.useState)(null),z=(0,n.mN)({resolver:(0,i.u)(A),defaultValues:{title:"",value:"",iconName:void 0,sortOrder:0}}),E=(0,s.useCallback)(async()=>{if(t){w(!0);try{let r=await N(t);r?(O(r),z.reset({title:r.title||"",value:r.value||"",iconName:r.iconName||void 0,sortOrder:r.sortOrder||0})):(a({title:"Error",description:"Stat item not found.",variant:"destructive"}),e.push("/admin/dashboard/stats"))}catch(e){a({title:"Error fetching stat item",description:e.message,variant:"destructive"})}finally{w(!1)}}},[t,z,a,e]);async function R(t){if(!I)return;g(!0);let r={title:t.title,value:t.value,iconName:t.iconName===b?void 0:t.iconName,sortOrder:t.sortOrder};try{let t=await C(I.id,r);a({title:"Stat Item Updated",description:'Stat "'.concat(null==t?void 0:t.title,'" has been updated successfully.')}),e.push("/admin/dashboard/stats")}catch(e){a({title:"Error Updating Stat Item",description:e.message||"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{g(!1)}}return((0,s.useEffect)(()=>{E()},[E]),M)?(0,r.jsx)("div",{className:"flex justify-center items-center min-h-[calc(100vh-10rem)]",children:(0,r.jsx)(p.A,{className:"h-12 w-12 animate-spin text-primary"})}):I||M?(0,r.jsxs)(k.FadeIn,{children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)(d.$,{variant:"outline",onClick:()=>e.back(),className:"mb-4 group",children:[(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4 group-hover:-translate-x-1 transition-transform"}),"Back to Stats"]}),(0,r.jsxs)("h1",{className:"text-2xl font-semibold text-foreground flex items-center",children:[(0,r.jsx)(y.A,{className:"mr-3 h-6 w-6 text-primary"}),"Edit Stat Item"]}),(0,r.jsxs)("p",{className:"text-muted-foreground",children:["Update details for the stat: ",null==I?void 0:I.title]})]}),(0,r.jsx)(m.lV,{...z,children:(0,r.jsx)("form",{onSubmit:z.handleSubmit(R),children:(0,r.jsxs)(h.Zp,{children:[(0,r.jsxs)(h.aR,{children:[(0,r.jsx)(h.ZB,{children:"Stat Item Details"}),(0,r.jsxs)(h.BT,{children:["Editing stat item: ",null==I?void 0:I.title]})]}),(0,r.jsxs)(h.Wu,{className:"space-y-6",children:[(0,r.jsx)(m.zB,{control:z.control,name:"title",render:e=>{let{field:t}=e;return(0,r.jsxs)(m.eI,{children:[(0,r.jsx)(m.lR,{children:"Title"}),(0,r.jsx)(m.MJ,{children:(0,r.jsx)(o.p,{placeholder:"e.g., Completed Projects",...t})}),(0,r.jsx)(m.C5,{})]})}}),(0,r.jsx)(m.zB,{control:z.control,name:"value",render:e=>{let{field:t}=e;return(0,r.jsxs)(m.eI,{children:[(0,r.jsx)(m.lR,{children:"Value"}),(0,r.jsx)(m.MJ,{children:(0,r.jsx)(o.p,{placeholder:"e.g., 50+ or 99%",...t})}),(0,r.jsx)(m.C5,{})]})}}),(0,r.jsx)(m.zB,{control:z.control,name:"iconName",render:e=>{let{field:t}=e;return(0,r.jsxs)(m.eI,{children:[(0,r.jsx)(m.lR,{children:"Icon (Optional from Lucide)"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(f.A,{className:"h-5 w-5 text-muted-foreground"}),(0,r.jsxs)(u.l6,{onValueChange:t.onChange,value:t.value||"",children:[(0,r.jsx)(m.MJ,{children:(0,r.jsx)(u.bq,{children:(0,r.jsx)(u.yv,{placeholder:"Select an icon (e.g., CheckSquare)"})})}),(0,r.jsxs)(u.gC,{children:[(0,r.jsx)(u.eb,{value:b,children:"No Icon"}),S.uz.map(e=>{let t=(0,S.Rg)(e);return(0,r.jsx)(u.eb,{value:e,children:(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[t&&(0,r.jsx)(t,{className:"h-4 w-4"})," ",e]})},e)})]})]})]}),(0,r.jsx)(m.C5,{})]})}}),(0,r.jsx)(m.zB,{control:z.control,name:"sortOrder",render:e=>{let{field:t}=e;return(0,r.jsxs)(m.eI,{children:[(0,r.jsx)(m.lR,{children:"Sort Order (Optional)"}),(0,r.jsx)(m.MJ,{children:(0,r.jsx)(o.p,{type:"number",placeholder:"e.g., 10 (lower numbers appear first)",...t,onChange:e=>t.onChange(parseInt(e.target.value,10)||0)})}),(0,r.jsx)(m.C5,{})]})}})]}),(0,r.jsx)(h.wL,{className:"flex justify-end border-t pt-6",children:(0,r.jsx)(d.$,{type:"submit",className:"button-primary",disabled:c||M,children:c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating Stat..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.A,{className:"mr-2 h-4 w-4"})," Update Stat Item"]})})})]})})})]}):(0,r.jsxs)("div",{className:"text-center py-10",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"Stat item not found or could not be loaded."}),(0,r.jsxs)(d.$,{variant:"outline",onClick:()=>e.back(),className:"mt-4 group",children:[(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4 group-hover:-translate-x-1 transition-transform"}),"Go Back"]})]})}},1219:(e,t,a)=>{"use strict";a.d(t,{uz:()=>c,Rg:()=>d});var r=a(157);let s=(0,r.A)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),l=(0,r.A)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),n=(0,r.A)("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),i={Code:s,Smartphone:l,Brain:n,Search:(0,r.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Cloud:(0,r.A)("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),ShieldCheck:a(6570).A},c=Object.keys(i),d=e=>e&&i[e]?i[e]:s},1313:(e,t,a)=>{Promise.resolve().then(a.bind(a,423))},2733:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(157).A)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]])},5263:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(157).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},6570:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(157).A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[4277,7920,9086,9550,5152,2378,6307,8441,1684,7358],()=>t(1313)),_N_E=e.O()}]);